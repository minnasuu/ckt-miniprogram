<!--components/common/color-picker/index.wxml-->
<view class="color-picker">
        <!-- 1. 颜色选择面板 -->
      <view class="color-selection-panel">
        <view 
          class="color-panel-bg"
          style="width: {{colorPanelWidth}}px; height: {{colorPanelSize}}px; background: linear-gradient(to right, white, hsl({{hue}}, 100%, 50%)), linear-gradient(to bottom, transparent, black);"
          bindtouchstart="onTouchStart"
          bindtouchmove="onTouchMove"
          bindtouchend="onTouchEnd"
        >
          <!-- 选择器手柄 -->
          <view 
            class="selector-handle"
            style="left: {{selectorX}}px; top: {{selectorY}}px;"
          ></view>
        </view>
      </view>

<view class="color-picker-value">
 <view class="current-color-display">
    <view class="color-preview-box" style="background-color: {{currentColor}};"></view>
  </view>
  <view class="color-picker-value-slider">
    <!-- 2. 色相滑块 -->
  <view class="hue-slider-container">
    <view class="hue-slider-bg">
      <slider 
        class="hue-slider"
        value="{{hue}}" 
        min="0" 
        max="360" 
        activeColor="transparent" 
        backgroundColor="transparent" 
        block-size="20" 
        block-color="white"
        bindchange="onHueChange"
      />
    </view>
  </view>

  <!-- 3. 透明度滑块 -->
  <view class="opacity-slider-container">
    <view class="opacity-slider-bg">
      <view 
        class="opacity-overlay"
        style="background: linear-gradient(to right, transparent, {{hexColor}});"
      ></view>
      <slider 
        class="opacity-slider"
        value="{{opacity}}" 
        min="0" 
        max="100" 
        activeColor="transparent" 
        backgroundColor="transparent" 
        block-size="20" 
        block-color="white"
        bindchange="onOpacityChange"
      />
    </view>
  </view>
  </view>
</view>

  <!-- 5. HEX输入框 -->
  <view class="hex-input-container">
    <input 
      class="hex-input"
      type="text"
      value="{{hexColor}}"
      placeholder="#ffffff"
      bindinput="onHexInput"
    />
     <custom-number-input
      class="opacity-input"
      value="{{opacity}}"
      min="0"
      max="100"
      step="1"
      bindchange="onOpacityChange"
    />
  </view>
</view>